<!-- „ÅÑ„ÅÑ„Å≠Ê©üËÉΩ„Éú„Çø„É≥ -->
<div class="like-container">
  <% if user_signed_in? %>
    <div id="like-button-<%= post.id %>" 
         data-controller="like"
         class="inline">
      
      <% if post.liked_by?(current_user) %>
        <!-- „ÅÑ„ÅÑ„Å≠Ê∏à„Åø„Éú„Çø„É≥ -->
        <%= button_to post_like_path(post, Like.find_by(post_id: post.id, user_id: current_user.id)),
            method: :delete,
            class: "like-button liked",
            data: { action: "click->like#animate" },
            onclick: "return true;",
            title: "„ÅÑ„ÅÑ„Å≠„ÇíÂèñ„ÇäÊ∂à„Åô" do %>
          <span class="text-lg">‚ù§Ô∏è</span>
        <% end %>
      <% else %>
        <!-- „ÅÑ„ÅÑ„Å≠Ââç„Éú„Çø„É≥ -->
        <%= button_to post_likes_path(post),
            method: :post,
            class: "like-button",
            data: { action: "click->like#animate" },
            onclick: "return true;",
            title: "„ÅÑ„ÅÑ„Å≠„Åô„Çã" do %>
          <span class="text-lg">ü§ç</span>
        <% end %>
      <% end %>
    </div>

    <!-- „ÅÑ„ÅÑ„Å≠Êï∞ -->
    <span class="like-count">
      <%= post.likes_count %>
    </span>
  <% else %>
    <!-- „É≠„Ç∞„Ç§„É≥„Åó„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà -->
    <div class="flex items-center gap-2">
      <span class="text-lg text-gray-300">ü§ç</span>
      <span class="like-count">
        <%= post.likes_count %>
      </span>
    </div>
  <% end %>
</div>
